<html>
<head>
<script src="jquery.js"></script>
<script>


$(document).ready(function(){
alert("wtf");

$("#logDiv").append("<h1>TEST JQUery</h1>");
$("#logDiv").css("background-color","blue");
	setTimeout(function(){
		$("#logDiv").empty();
		},5000);

		$("#logDiv button").css("background-color","blue");
		$("#logDiv button").click(function(){
		alert("JQUERY onclikc woop woop");
		});
});
/**   
*/
function download(downloadURL,successCallback,failCallback){
	if(downloadURL === "ok.png"	){
		setTimeout(function(){
		successCallback();
		
		},5000);
		}else{
		setTimeout(function(){
		failCallback();
		},5000);
		}
	
	}
download("ok.png",function(){
		alert("prosao");
	},function(){
	alert("Nije prosao");
	
		
		});
	
var uspeoCallback = function(){
	alert("prosao ref");

};

var nijeUspeoCallback = function(){
	alert(" nije prosao ref");

};

download("ref.pg" , uspeoCallback, nijeUspeoCallback);
window.onload = function() {



  var txtX = document.getElementById("txtX");
  var txtY = document.getElementById("txtY");
  var txtZ = document.getElementById("txtZ");
  var btnPlus = document.getElementById("btnPlus");

  document.addEventListener("ValueChanged", function(e){
  alert("Handler okinut"+ e);
	if (e.detail >0){
		txtZ.style.backgroundColor = "red";
	} else if (zVrednost < 0) { 
		txtZ.style.backgroundColor = "blue";
	} else { 
		txtZ.style.backgroundColor = "grey";
	}
	
	 
  },false);
  
  btnPlus.onclick = function() {
	var xVrednost = txtX.value;
	if(xVrednost === "") {
		alert("morate  uneti x !");
		return;
	}
	
	var yVrednost = txtY.value;
	if(yVrednost === "") {
		alert("morate  uneti y !");
		return;
	}
	xVrednost = parseInt(xVrednost);
	yVrednost = parseInt(yVrednost);
	var zVrednost = xVrednost + yVrednost;
	
	// AKO JE > 0 , oboji POLJE u CRVENO
	
	// AKO JE  < 0 OBOJI u PLAVO
	
	// AKO JE == 0 , oboji u SIVO
	
	txtZ.value = zVrednost;
	var eventPayload ={
	'detail': zVrednost
	
	};
	
	var event = new CustomEvent('ValueChanged', eventPayload);
	document.dispatchEvent(event);
	if(zVrednost > 0 ) { 
		txtZ.style.backgroundColor = "red";
	} else if (zVrednost < 0) { 
		txtZ.style.backgroundColor = "blue";
	} else { 
		txtZ.style.backgroundColor = "grey";
	}
	
	
  };
};
</script>
</head>
<body>
X: <input type="text" id="txtX"> <br>
Y: <input type="text" id="txtY"> <br>
Z: <input type="text" id="txtZ" disabled > <br>
<button id="btnPlus"> + </button>



<div id="logDiv">
<button> UNUTAR DIVA </button>
</div>

</body>