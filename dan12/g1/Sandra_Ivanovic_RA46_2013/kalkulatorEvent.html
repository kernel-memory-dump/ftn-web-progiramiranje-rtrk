<html>
<head>
<script src="jquery.js"></script>
<script>

$(document).ready(function(){
	alert("wtf");
	$("#logDiv").append("<h1>test jquery</h1>");
	$("#logDiv").css("background-color","pink");

	setTimeout(function(){
		$("#logDiv").empty();
	},5000);

	$("#logDiv button").css("background-color","purple");
	$("#logDiv button").click(function(){
		alert("HAPPY B-DAY SUKIIIIIIIIIIIII :)");
	});

});
/**
	@param [function] successCallback - call if download success
	@param [function] failCallback - call if download fails
	@param [string] downloadURL - 
*/
	function download(dowloandURL,successCallback,failCallback){
		if(dowloandURL === "ok.png"){
			setTimeout(function(){
				successCallback();
			}, 5000);
		} else{
			setTimeout(function(){
				failCallback();
			}, 5000);
		}

	}

window.onload = function() {

	download("ok.png", function(){
		alert("prosao!");
	}, function() {
		alert("nije prosao");
	});


	var uspeoCallback = function(){
		alert("uspeo callback");
	};
	var nijeUspeoCallback = function(){
		alert("nije uspeo callback");
	};

	download("not-ok.png",uspeoCallback,nijeUspeoCallback);


  	// Listen for the event.
	document.addEventListener('ValueChanged', function (e) {
	if(e.detail > 0 ) { 
		txtZ.style.backgroundColor = "red";
	} else if (e.detail < 0) { 
		txtZ.style.backgroundColor = "blue";
	} else { 
		txtZ.style.backgroundColor = "grey";
	}

	}, false);

  var txtX = document.getElementById("txtX");
  var txtY = document.getElementById("txtY");
  var txtZ = document.getElementById("txtZ");
  var btnPlus = document.getElementById("btnPlus");

  
  btnPlus.onclick = function() {
	var xVrednost = txtX.value;
	if(xVrednost === "") {
		alert("morate  uneti x !");
		return;
	}
	
	var yVrednost = txtY.value;
	if(yVrednost === "") {
		alert("morate  uneti y !");
		return;
	}
	xVrednost = parseInt(xVrednost);
	yVrednost = parseInt(yVrednost);
	var zVrednost = xVrednost + yVrednost;
	
	// AKO JE > 0 , oboji POLJE u CRVENO
	
	// AKO JE  < 0 OBOJI u PLAVO
	
	// AKO JE == 0 , oboji u SIVO
	
	txtZ.value = zVrednost;
	var eventPayload = {
		'detail':zVrednost
	};
	var event = new CustomEvent('ValueChanged', eventPayload);

	// Dispatch the event.
	document.dispatchEvent(event);




	
  };



	
};
</script>
</head>
<body>
X: <input type="text" id="txtX"> <br>
Y: <input type="text" id="txtY"> <br>
Z: <input type="text" id="txtZ" disabled > <br>
<button id="btnPlus"> + </button>



<div id="logDiv">
<button> DON'T PUSH THE BUTTON </button>
</div>

</body>