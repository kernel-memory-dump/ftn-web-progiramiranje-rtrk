<html>
<head>

<script src="jquery.js"></script>
<script>
	$(document).ready(function() {
		alert("WTF");
		$("#logDiv").append("<h1>TEST JQ</h1>");
		$("#logDiv").css("background-color", "blue");
		setTimeout(function() {
			$("#logDiv").empty();
		}, 3000)

		$("#LogDiv button").css("background-color", "green");
		$("#LogDiv button").click(function(){
			alert("jq onlick woop woop");
		});
		//$("#logDiv").append("");
	});

	/**
	 * 
	 * @param {string}	downloadURL -
	 * @param {function} successCallback - call if download succeeds
	 */
	function download(downloadURL, successCallback, failCallback) {
		if (downloadURL === "ok.png") {
			setTimeout(function() {
				successCallback();
			}, 5000);
		} else {
			setTimeout(function() {
				failCallback();
			}, 5000)
		}
	}

	download("ok.png", function() {
		alert("PROSAO!!!");
	}, function() {
		alert("NIJE PROSAO");
	})

	var uspeoCallback = function() {
		alert("prosao ref");
	}

	var failovaoCallback = function() {
		alert("nije prosao ref");
	}

	download("not-ok.png", successCallback, failCallback);

	window.onload = function() {

		var txtX = document.getElementById("txtX");
		var txtY = document.getElementById("txtY");
		var txtZ = document.getElementById("txtZ");
		var btnPlus = document.getElementById("btnPlus");

		document.addEventListener("ValueChanged", function(e) {
			alert("handler okinut " + e);
			if (e.detail > 0) {
				txtZ.style.backgroundColor = "red";
			} else if (e.detail < 0) {
				txtZ.style.backgroundColor = "blue";
			} else {
				txtZ.style.backgroundColor = "grey";
			}
		}, false);

		btnPlus.onclick = function() {
			var xVrednost = txtX.value;
			if (xVrednost === "") {
				alert("morate  uneti x !");
				return;
			}

			var yVrednost = txtY.value;
			if (yVrednost === "") {
				alert("morate  uneti y !");
				return;
			}
			xVrednost = parseInt(xVrednost);
			yVrednost = parseInt(yVrednost);
			var zVrednost = xVrednost + yVrednost;

			// AKO JE > 0 , oboji POLJE u CRVENO

			// AKO JE  < 0 OBOJI u PLAVO

			// AKO JE == 0 , oboji u SIVO

			txtZ.value = zVrednost;
			var eventPayload = {
				'detail' : zVrednost

			};
			var event = new CustomEvent('ValueChanged', eventPayload);
			document.dispatchEvent(event);

		};
	};
</script>
</head>
<body>
	X:
	<input type="text" id="txtX">
	<br> Y:
	<input type="text" id="txtY">
	<br> Z:
	<input type="text" id="txtZ" disabled>
	<br>
	<button id="btnPlus">+</button>



	<div id="logDiv">
		<button>UNUTAR DIVA</button>
	</div>

</body>